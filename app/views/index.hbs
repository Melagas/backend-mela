<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formulario</title>
    {{!-- <script src="/socket.io/socket.io.js"></script> --}}
    <link rel="stylesheet" href="../public/style.css">
    <link rel="stylesheet" href="../public/main.js">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css"
        integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l" crossorigin="anonymous">
</head>
<body>
 <header class="container mt-3">
      <h1>Formulario de carga de productos</h1>
 </header>
    <div class="container mt-3">
        <div class="jumbotron">
            <h2 style="color:cadetblue">Ingrese datos</h2>
            <br>
            <form action="/products" method="post">                
                <div class="form-group">
                    <label for="name"><b>Nombre</b></label>
                    <input id="name" class="form-control" type="text" name="name">
                </div>
                <div class="form-group">
                    <label for="price"><b>Precio</b></label>
                    <input id="price" class="form-control" type="number" name="price">
                </div>
                <div class="form-group">
                    <label for="url"><b>URL</b></label>
                    <input id="url" class="form-control" type="url" name="url">
                </div>
                <button class="btn btn-success mt-3 mb-5">Enviar</button>
            </form>
        </div>
      <div>
        {{#if products}}
        <table class="table table-striped">
           <thead>
              <tr style="color:cadetblue;">
                 <th scope="col">Nombre</th>
                 <th scope="col">Precio</th>
                 <th scope="col">URL</th>
              </tr>
           </thead>
           <tbody>
            {{#each products}}
              <tr>
                 <td>{{this.name}}</td>
                 <td>{{this.price}}</td>
                 <td><img src={{this.url}} alt="" style="width: 30px; height:30px"></td>
              </tr>
            {{/each}}
           </tbody>
        </table>
        </div>
        {{else}}
             <div>
                <h2>Historial</h2>
                <h3 class="alert alert-danger">No se encontraron datos</h3>
             </div>
        {{/if}}
      </div>

      <div class="container mt-3">
        <div class="jumbotron">
            <h2>Chat</h2>
            <form action="/messages" method="post">
                 <div class="form-group">
                   <label for="user"><b>Nombre</b></label>
                   <input type="text" class="form-control" id="user" name="user" placeholder="Tu Nombre" >
                 </div>
                 <div class="form-group">
                   <label for="text"><b>Mensaje</b></label>
                   <input type="text" class="form-control" id="text" name="text" placeholder="CuÃ©ntanos algo...">
                 </div>
              <button class="btn btn-success mt-3 mb-5">Enviar</button>
            </form>
        </div>
     {{#if messages}}
        <table class="table table-striped">
           <thead>
              <tr style="color:cornflowerblue">
                 <th scope="col">Nombre</th>
                 <th scope="col">Mensaje</th>
              </tr>
           </thead>
           <tbody>
            {{#each messages}}
              <tr>
                 <td>{{this.user}}</td>
                 <td>{{this.text}}</td>
              </tr>
            {{/each}}
           </tbody>
        </table>
        </div>
        {{else}}
             <div>
                <h3 class="alert alert-danger">No se encontraron mensajes</h3>
             </div>
        {{/if}}
        </div>
   </div>
       
</body>
<script src="https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.7.7/handlebars.min.js"></script>
</html>